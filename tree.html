<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <meta name="robots" content="noindex, nofollow" />
Â  Â  <title>Knowledge Tree - BeAwarely</title>
Â  Â  <link rel="stylesheet" href="css/style.css" />
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --blue1: #007bff;
Â  Â  Â  Â  Â  Â  --blue2: #66b2ff;
Â  Â  Â  Â  Â  Â  --blue3: #b3d9ff;
Â  Â  Â  Â  Â  Â  --bg-dark: black;
Â  Â  Â  Â  Â  Â  --bg-light: #f0f0f0;
Â  Â  Â  Â  Â  Â  --text-dark: #eee;
Â  Â  Â  Â  Â  Â  --text-light: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode {
Â  Â  Â  Â  Â  Â  background: var(--bg-light);
Â  Â  Â  Â  Â  Â  color: var(--text-light);
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode p {
Â  Â  Â  Â  Â  Â  color: var(--text-light);
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode .back-btn {
Â  Â  Â  Â  Â  Â  background-color: var(--blue2);
Â  Â  Â  Â  Â  Â  color: var(--text-light);
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode .back-btn:hover {
Â  Â  Â  Â  Â  Â  background-color: var(--blue1);
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  Â  Â  Â  background: var(--bg-dark);
Â  Â  Â  Â  Â  Â  color: var(--text-dark);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 40px 20px;
Â  Â  Â  Â  Â  Â  transition: background-color 0.5s ease, color 0.5s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .tree-image {
Â  Â  Â  Â  Â  Â  max-width: 100%;
Â  Â  Â  Â  Â  Â  border-radius: 16px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  font-size: 2.5rem;
Â  Â  margin-bottom: 10px;
Â  Â  color: #fff;
Â  Â  text-shadow: 0 0 6px rgba(0,0,0,0.8), 0 0 12px rgba(0,0,0,0.6);
Â  Â  position: relative;
Â  Â  z-index: 2;
}

Â  Â  Â  Â  .back-btn {
Â  Â  Â  Â  Â  Â  margin-top: 40px;
Â  Â  Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 12px 24px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, transform 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .back-btn:hover {
Â  Â  Â  Â  Â  Â  background-color: #005fcc;
Â  Â  Â  Â  Â  Â  transform: scale(1.05);
Â  Â  Â  Â  }

Â  Â  Â  Â  footer {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  Â  Â  Â  color: #777;
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  body:not(.light-mode) #matrix-bg {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  z-index: 0;
Â  Â  Â  Â  Â  Â  width: 100vw;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  background: black;
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode #matrix-bg {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  #neuronCanvas {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100vw;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  z-index: -1;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  body.light-mode #neuronCanvas {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }

Â  Â  Â  Â  #cyTree {
Â  Â  background: transparent;
Â  Â  border: 1px solid var(--text-dark);
Â  Â  position: relative;
Â  Â  z-index: 2;
}

header, footer, #miniChat {
Â  Â  position: relative;
Â  Â  z-index: 2;
}

Â  Â  Â  Â  body.light-mode #cyTree {
Â  Â  Â  Â  Â  Â  border: 1px solid var(--text-light);
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body style="margin:0;display:flex;flex-direction:column;min-height:100vh">
Â  Â  <canvas id="matrix-bg"></canvas>
Â  Â  <canvas id="neuronCanvas"></canvas>

Â  Â  <main style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px;box-sizing:border-box;width:100%">

Â  Â  Â  Â  <img id="modeIcon"
Â  Â  Â  Â  Â  Â  Â src="images/icon-neural-orange.svg"
Â  Â  Â  Â  Â  Â  Â onclick="toggleMode()"
Â  Â  Â  Â  Â  Â  Â title="Toggle light/dark mode"
Â  Â  Â  Â  Â  Â  Â style="position:absolute;top:20px;right:20px;width:36px;height:36px;cursor:pointer;padding:6px;border-radius:50%;transition:background-color 0.3s,transform 0.3s;object-fit:contain;z-index:999"
Â  Â  Â  Â  Â  Â  Â onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'"
Â  Â  Â  Â  Â  Â  Â onmouseout="this.style.backgroundColor='transparent'" />

Â  Â  Â  Â  <header style="display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1200px;margin-bottom:20px">
Â  Â  Â  Â  Â  Â  <h1 style="margin:0">Welcome to the Knowledge Tree</h1>
Â  Â  Â  Â  Â  Â  <button class="back-btn" onclick="window.location.href='index.html'">â† Back</button>
Â  Â  Â  Â  </header>

Â  Â  Â  Â  <div style="width:100%;max-width:1200px;margin:0 auto 20px auto;position:relative;z-index:1">
Â  Â  <div id="cyTree" style="width:100%;height:80vh"></div>
</div>

Â  Â  Â  Â  <div id="miniChat" style="width:100%;max-width:700px;margin:0 auto 20px auto;padding:10px;border:1px solid #444;border-radius:8px;background:rgba(20,20,30,0.9);color:#fff">
Â  Â  Â  Â  Â  Â  <p style="margin:0 0 10px 0;font-weight:bold">AI Mini Chat</p>
Â  Â  Â  Â  Â  Â  <textarea id="chatInput" rows="2" style="width:100%;padding:6px;border-radius:6px;border:1px solid #555;background:#111;color:#eee"></textarea>
Â  Â  Â  Â  Â  Â  <button style="margin-top:8px;padding:6px 12px;border:none;border-radius:6px;background:#3a63ff;color:#fff;cursor:pointer">Send</button>
Â  Â  Â  Â  Â  Â  <div id="chatLog" style="margin-top:10px;max-height:150px;overflow-y:auto;font-size:0.9rem;color:#ccc"></div>
Â  Â  Â  Â  </div>

Â  Â  </main>

Â  Â  <footer style="position:fixed;bottom:0;left:0;width:100%;text-align:center;padding:10px 0;color:#777;font-size:0.9rem;z-index:10;background:transparent;pointer-events:none">
Â  Â  Â© 2025 BeAwarely â€” Tree of Knowledge (demo concept)
</footer>

Â  Â  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" async></script>
Â  Â  <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>

Â  Â  <script>
Â  Â  Â  Â  // Inicjalizacja Cytoscape.js po peÅ‚nym zaÅ‚adowaniu DOM
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  const cy = cytoscape({
Â  Â  Â  Â  Â  Â  Â  Â  container: document.getElementById('cyTree'),
Â  Â  Â  Â  Â  Â  Â  Â  style: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selector: 'node',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'background-color': '#3a63ff',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'label': 'data(label)',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'color': '#fff',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'text-valign': 'center',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'text-halign': 'center',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'font-size': '12px',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'width': '40px',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'height': '40px'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  selector: 'edge',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'width': 2,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'line-color': '#bbb',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'target-arrow-color': '#bbb',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'target-arrow-shape': 'triangle'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  Â  Â  elements: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nodes: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { id: 'root', label: 'Knowledge Tree' } },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { id: 'tech', label: 'Technology' } },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { id: 'sci', label: 'Science' } }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  edges: [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { source: 'root', target: 'tech' } },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { source: 'root', target: 'sci' } }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  layout: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: 'breadthfirst', // Zmiana layoutu na bardziej stabilny dla drzew
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  directed: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  padding: 50
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // Funkcja do dopasowania drzewa do ramki
Â  Â  Â  Â  Â  Â  function fitTree() {
Â  Â  Â  Â  Â  Â  Â  Â  if (!cy || cy.elements().length === 0) return;
Â  Â  Â  Â  Â  Â  Â  Â  cy.resize();
Â  Â  Â  Â  Â  Â  Â  Â  cy.fit(cy.elements(), 50); // 50 = margines w px
Â  Â  Â  Â  Â  Â  Â  Â  cy.center();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Dopasowanie po zmianie rozmiaru okna
Â  Â  Â  Â  Â  Â  window.addEventListener('resize', fitTree);
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  // Wymuszenie dopasowania po zaÅ‚adowaniu strony
Â  Â  Â  Â  Â  Â  fitTree();
Â  Â  Â  Â  Â  Â  cy.on('layoutstop', fitTree);


Â  Â  Â  Â  Â  Â  // Ustawienia poczÄ…tkowego trybu i tÅ‚a
Â  Â  Â  Â  Â  Â  const mode = localStorage.getItem('mode');
Â  Â  Â  Â  Â  Â  const icon = document.getElementById('modeIcon');
Â  Â  Â  Â  Â  Â  const matrixCanvas = document.getElementById('matrix-bg');
Â  Â  Â  Â  Â  Â  const neuronCanvas = document.getElementById('neuronCanvas');
Â  Â  Â  Â  Â  Â  const isLight = mode === 'light';

Â  Â  Â  Â  Â  Â  if (isLight) {
Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.add('light-mode');
Â  Â  Â  Â  Â  Â  Â  Â  if (icon) icon.src = 'images/icon-neural-orange.svg';
Â  Â  Â  Â  Â  Â  Â  Â  if (neuronCanvas) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCanvas.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawNeuronCloud();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  document.body.classList.remove('light-mode');
Â  Â  Â  Â  Â  Â  Â  Â  if (icon) icon.src = 'images/icon-darkmode-matrix-pills.svg';
Â  Â  Â  Â  Â  Â  Â  Â  if (matrixCanvas) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matrixCanvas.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawMatrix();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // Funkcja do przeÅ‚Ä…czania trybÃ³w
Â  Â  Â  Â  Â  Â  window.toggleMode = function() {
Â  Â  Â  Â  Â  Â  Â  Â  const isLight = document.body.classList.toggle('light-mode');
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('mode', isLight ? 'light' : 'dark');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (isLight) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon.src = 'images/icon-neural-orange.svg';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCanvas.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matrixCanvas.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawNeuronCloud();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  icon.src = 'images/icon-darkmode-matrix-pills.svg';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCanvas.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matrixCanvas.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drawMatrix();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  fitTree();
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  // Menu staÅ‚e nad drzewem
let activeNode = null;

const menuContainer = document.createElement('div');
menuContainer.id = 'nodeMenu';
menuContainer.style.margin = '10px 0';
menuContainer.style.textAlign = 'center';

menuContainer.innerHTML = `
Â  Â  <button id="addChildBtn" style="display:inline-block;width:140px;background:#3a63ff;color:#fff;border:none;padding:6px;margin:3px;border-radius:6px;cursor:pointer">â• Add child</button>
Â  Â  <button id="expandAiBtn" style="display:inline-block;width:140px;background:#22c55e;color:#fff;border:none;padding:6px;margin:3px;border-radius:6px;cursor:pointer">ğŸŒ± Expand with AI</button>
`;

// wstawiamy menu NAD ramkÄ™ drzewa (zaraz po headerze)
const header = document.querySelector('header');
header.insertAdjacentElement('afterend', menuContainer);

// obsÅ‚uga klikniÄ™cia wÄ™zÅ‚a â†’ zapisujemy jako aktywny
cy.on('tap', 'node', function(evt){
Â  Â  activeNode = evt.target;
});

// Add child
document.getElementById('addChildBtn').onclick = () => {
Â  Â  if (!activeNode) {
Â  Â  Â  Â  alert("Najpierw wybierz wÄ™zeÅ‚ klikajÄ…c w drzewo.");
Â  Â  Â  Â  return;
Â  Â  }
Â  Â  const id = 'n' + Math.floor(Math.random()*10000);
Â  Â  const label = prompt("Enter child label:", "New Node") || "New Node";
Â  Â  cy.add([
Â  Â  Â  Â  { data: { id: id, label: label } },
Â  Â  Â  Â  { data: { source: activeNode.id(), target: id } }
Â  Â  ]);
Â  Â  cy.layout({ name: 'breadthfirst', directed:true, padding:20 }).run();
Â  Â  fitTree();
};

// Expand with AI
document.getElementById('expandAiBtn').onclick = () => {
Â  Â  if (!activeNode) {
Â  Â  Â  Â  alert("Najpierw wybierz wÄ™zeÅ‚ klikajÄ…c w drzewo.");
Â  Â  Â  Â  return;
Â  Â  }
Â  Â  expandWithAI(activeNode);
Â  Â  fitTree();
};

Â  Â  Â  Â  Â  Â  // Funkcja "Expand with AI"
Â  Â  Â  Â  Â  Â  function expandWithAI(node){
Â  Â  Â  Â  Â  Â  Â  Â  const examples = [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { label: "AI Trend", category: "tech" },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { label: "Research", category: "sci" },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { label: "Fact Check", category: "verified" }
Â  Â  Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  Â  Â  examples.forEach(ex=>{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const id = node.id() + "_" + ex.label.replace(/\s+/g,'_') + "_" + Math.floor(Math.random()*1000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cy.add([
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { id: id, label: ex.label, category: ex.category } },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { data: { source: node.id(), target: id } }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ]);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  cy.layout({ name: 'breadthfirst', directed:true, padding:10 }).run();
Â  Â  Â  Â  Â  Â  Â  Â  fitTree();
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // ObsÅ‚uga czatu AI
Â  Â  Â  Â  Â  Â  document.querySelector('#miniChat button').addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  Â  const input = document.getElementById('chatInput');
Â  Â  Â  Â  Â  Â  Â  Â  const log = document.getElementById('chatLog');
Â  Â  Â  Â  Â  Â  Â  Â  if (input.value.trim() !== '') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  log.innerHTML += `<div style="padding:4px;background:#222;border-radius:4px;margin-bottom:4px">You: ${input.value}</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  log.scrollTop = log.scrollHeight;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  input.value = '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  log.innerHTML += `<div style="padding:4px;background:#3a63ff;border-radius:4px">AI: This is a placeholder response.</div>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  log.scrollTop = log.scrollHeight;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });

Â  Â  Â  Â  // Skrypty dla animacji w tle
Â  Â  Â  Â  // Matrix Background
Â  Â  Â  Â  const canvas = document.getElementById("matrix-bg");
Â  Â  Â  Â  const ctx = canvas.getContext('2d');
Â  Â  Â  Â  const letters = 'ã‚¢ã‚«ã‚µã‚¿ãƒŠãƒãƒãƒ¤ãƒ©ãƒ¯0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
Â  Â  Â  Â  const fontSize = 16;
Â  Â  Â  Â  let columns;
Â  Â  Â  Â  let drops;

Â  Â  Â  Â  function resizeMatrixCanvas() {
Â  Â  Â  Â  Â  Â  canvas.width = window.innerWidth;
Â  Â  Â  Â  Â  Â  canvas.height = window.innerHeight;
Â  Â  Â  Â  Â  Â  columns = Math.floor(canvas.width / fontSize);
Â  Â  Â  Â  Â  Â  drops = Array.from({ length: columns }, () => Math.random() * canvas.height / fontSize);
Â  Â  Â  Â  }
Â  Â  Â  Â  resizeMatrixCanvas();
Â  Â  Â  Â  window.addEventListener('resize', resizeMatrixCanvas);

Â  Â  Â  Â  function drawMatrix() {
Â  Â  Â  Â  Â  Â  if (document.body.classList.contains('light-mode')) return;
Â  Â  Â  Â  Â  Â  ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
Â  Â  Â  Â  Â  Â  ctx.fillRect(0, 0, canvas.width, canvas.height);
Â  Â  Â  Â  Â  Â  ctx.fillStyle = '#0F0';
Â  Â  Â  Â  Â  Â  ctx.font = fontSize + 'px monospace';
Â  Â  Â  Â  Â  Â  for (let i = 0; i < drops.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const text = letters[Math.floor(Math.random() * letters.length)];
Â  Â  Â  Â  Â  Â  Â  Â  ctx.fillText(text, i * fontSize, drops[i] * fontSize);
Â  Â  Â  Â  Â  Â  Â  Â  if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  drops[i] = 0;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  drops[i]++;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  setInterval(drawMatrix, 35);

Â  Â  Â  Â  // Neuron Cloud Background
Â  Â  Â  Â  const neuronCanvas = document.getElementById('neuronCanvas');
Â  Â  Â  Â  const neuronCtx = neuronCanvas.getContext('2d');
Â  Â  Â  Â  let width, height;
Â  Â  Â  Â  function resizeNeuronCanvas() {
Â  Â  Â  Â  Â  Â  width = neuronCanvas.width = window.innerWidth;
Â  Â  Â  Â  Â  Â  height = neuronCanvas.height = window.innerHeight;
Â  Â  Â  Â  }
Â  Â  Â  Â  resizeNeuronCanvas();
Â  Â  Â  Â  window.addEventListener('resize', resizeNeuronCanvas);

Â  Â  Â  Â  class Particle {
Â  Â  Â  Â  Â  Â  constructor() { this.reset(); }
Â  Â  Â  Â  Â  Â  reset() {
Â  Â  Â  Â  Â  Â  Â  Â  this.x = Math.random() * width;
Â  Â  Â  Â  Â  Â  Â  Â  this.y = Math.random() * height;
Â  Â  Â  Â  Â  Â  Â  Â  this.radius = 1 + Math.random() * 2;
Â  Â  Â  Â  Â  Â  Â  Â  this.vx = (Math.random() - 0.5) * 0.6;
Â  Â  Â  Â  Â  Â  Â  Â  this.vy = (Math.random() - 0.5) * 0.6;
Â  Â  Â  Â  Â  Â  Â  Â  this.life = Math.random() * 500 + 300;
Â  Â  Â  Â  Â  Â  Â  Â  this.color = getGlowColor();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  update() {
Â  Â  Â  Â  Â  Â  Â  Â  this.x += this.vx;
Â  Â  Â  Â  Â  Â  Â  Â  this.y += this.vy;
Â  Â  Â  Â  Â  Â  Â  Â  this.life--;
Â  Â  Â  Â  Â  Â  Â  Â  if (this.x < 0 || this.x > width || this.y < 0 || this.y > height || this.life <= 0) { this.reset(); }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  draw(ctx) {
Â  Â  Â  Â  Â  Â  Â  Â  ctx.beginPath();
Â  Â  Â  Â  Â  Â  Â  Â  ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);
Â  Â  Â  Â  Â  Â  Â  Â  const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.radius * 8);
Â  Â  Â  Â  Â  Â  Â  Â  gradient.addColorStop(0, this.color);
Â  Â  Â  Â  Â  Â  Â  Â  gradient.addColorStop(1, 'transparent');
Â  Â  Â  Â  Â  Â  Â  Â  ctx.fillStyle = gradient;
Â  Â  Â  Â  Â  Â  Â  Â  ctx.fill();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function getGlowColor() { return `hsl(${Math.floor(Math.random() * 360)}, 100%, 85%)`; }
Â  Â  Â  Â  const particles = Array.from({ length: 120 }, () => new Particle());

Â  Â  Â  Â  function drawNeuronCloud() {
Â  Â  Â  Â  Â  Â  if (!document.body.classList.contains('light-mode')) return;
Â  Â  Â  Â  Â  Â  neuronCtx.fillStyle = 'rgba(0, 0, 0, 0.08)';
Â  Â  Â  Â  Â  Â  neuronCtx.fillRect(0, 0, width, height);
Â  Â  Â  Â  Â  Â  for (let p of particles) {
Â  Â  Â  Â  Â  Â  Â  Â  p.update();
Â  Â  Â  Â  Â  Â  Â  Â  p.draw(neuronCtx);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  for (let i = 0; i < particles.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  for (let j = i + 1; j < particles.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const a = particles[i];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const b = particles[j];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dx = a.x - b.x;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dy = a.y - b.y;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dist = Math.sqrt(dx * dx + dy * dy);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (dist < 120) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.beginPath();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.moveTo(a.x, a.y);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.lineTo(b.x, b.y);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.strokeStyle = `rgba(255,255,255,${1 - dist / 120})`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.lineWidth = 0.25;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  neuronCtx.stroke();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  requestAnimationFrame(drawNeuronCloud);
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
